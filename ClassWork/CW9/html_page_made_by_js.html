<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<link rel="icon" href="icon192.png">

<script>
    "use strict";
    function elt(type, ...list) {
        let e = document.createElement(type)
        for (let c of list) {
            e.appendChild(c instanceof Element ? c
                : document.createTextNode(c))
        }
        return e
    }
    const TUT_REF =
        "https://www.w3schools.com/js/",
        TITLE = "Counter",
        PARAGRAPH = "Initial"
        let out = "",
            emsp = "  "

    function makePage() {
        
        let h2Element = elt("h2", TITLE);
        let inputTxt = elt("input");
        let inputButton = elt("input");
        out = elt("p");
        
        let bold = elt("b", "Sample code")
        let pre = elt("pre", makePage)
        let link = elt("a", "JS Tutorial")

        h2Element.id = "tab";

        inputTxt.id = "inp";
        inputTxt.type = "number";
        inputTxt.value = 0;
        inputTxt.setAttribute("onChange", "out.innerText=value");

        inputButton.type = "button";
        inputButton.value = "+";
        inputButton.setAttribute("onClick", "increment()");

        out.id = "out";
        out.innerText = "1";

        link.href = TUT_REF
        link.target = "NewTab"

        document.title = TITLE

        document.body = elt("body",
            h2Element,
            PARAGRAPH,
            emsp,
            inputTxt, 
            emsp,
            inputButton,
            out,
            elt("hr"),
            elt("p", "Ref: ", link),
            elt("hr"),
            elt("div", bold, pre),
            elt("hr")
        )
        document.body.style.maxWidth = "420px"
        inputTxt.style.width = "50px";
        out.style.fontSize = "18px";
        out.style.background = "blue";
        out.style.color = "white";
        out.style.textAlign = "center";
        out.style.padding = "10px";
    }
    function increment() {
        out.innerText = Number(out.innerText) + 1
    }
    const tree = [], SPACE = '&emsp;', MAX = 26;
    function toTree(e, space) {
        let c = e.firstChild
        if (!c || c instanceof Element) c = ''
        else c = SPACE + c.textContent
        if (c.length > MAX + 3) c = c.substring(0, MAX) + 'â€¦'
        console.log(space.length, e.localName, c)
        tree.push(space + '+ ' + e.tagName + c)
        for (let c of e.children)
            toTree(c, space + SPACE)
    }
    makePage(); toTree(document.body, '');
    let t = elt("p"); t.style.color = "green";
    t.innerHTML = tree.join('<br>');
    document.body.append(t);
</script>
<!-- The document body is made by the script above -->
